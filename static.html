<!DOCTYPE html><html><head><title>Connect - High quality middleware for node.js</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link rel="stylesheet" href="style.css"><script src="jquery.js"></script><script src="docs.js"></script></head><body><div id="content"><h1>Connect</h1><div id="" class="comment"><h2></h2><div class="description"><p>Static:</p>

<p>Static file server with the given <code>root</code> path.</p>

<p>Examples:</p>

<pre><code>var oneDay = 86400000;

connect()
  .use(connect.static(__dirname + '/public'))

connect()
  .use(connect.static(__dirname + '/public', { maxAge: oneDay }))
</code></pre>

<p>Options:</p>

<ul>
<li><code>maxAge</code>     Browser cache maxAge in milliseconds. defaults to 0</li>
<li><code>hidden</code>     Allow transfer of hidden files. defaults to false</li>
<li><code>redirect</code>   Redirect to trailing "/" when the pathname is a dir. defaults to true</li>
<li><code>index</code>      Default file name, defaults to 'index.html'</li>
</ul></div><ul class="tags"><li><em>String</em> root </li><li><em>Object</em> options </li><li>returns <em>Function</em> </li></ul><h3>Source</h3><pre><code>exports = module.exports = function(root, options){
  options = options || {};

  // root required
  if (!root) throw new Error('static() root path required');

  // default redirect
  var redirect = false !== options.redirect;

  return function staticMiddleware(req, res, next) {
    if ('GET' != req.method && 'HEAD' != req.method) return next();
    var originalUrl = url.parse(req.originalUrl);
    var path = parse(req).pathname;
    var pause = utils.pause(req);

    if (path == '/' && originalUrl.pathname[originalUrl.pathname.length - 1] != '/') {
      return directory();
    }

    function resume() {
      next();
      pause.resume();
    }

    function directory() {
      if (!redirect) return resume();
      var target;
      originalUrl.pathname += '/';
      target = url.format(originalUrl);
      res.statusCode = 303;
      res.setHeader('Location', target);
      res.end('Redirecting to ' + utils.escape(target));
    }

    function error(err) {
      if (404 == err.status) return resume();
      next(err);
    }

    send(req, path)
      .maxage(options.maxAge || 0)
      .root(root)
      .index(options.index || 'index.html')
      .hidden(options.hidden)
      .on('error', error)
      .on('directory', directory)
      .pipe(res);
  };
};</code></pre></div><div id="exports.mime" class="comment"><h2>exports.mime</h2><div class="description"><p>Expose mime module.</p>

<p>If you wish to extend the mime table use this<br />reference to the "mime" module in the npm registry.</p></div><h3>Source</h3><pre><code>exports.mime = send.mime;</code></pre></div></div><ul id="menu"><li><a href="#"></a></li><li><a href="#exports.mime">exports.mime</a></li></ul></body></html>